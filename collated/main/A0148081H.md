# A0148081H
###### /java/seedu/opus/logic/commands/SortCommand.java
``` java
/**
 * Sorts all tasks in the task manager to the user.
 */
public class SortCommand extends Command {

    public static final String COMMAND_WORD = "sort";

    public static final String MESSAGE_USAGE = COMMAND_WORD + ": Sorts all tasks according to the value given\n"
            + "Parameters: KEYWORD\n"
            + "Example: " + COMMAND_WORD + " priority";

    public static final String MESSAGE_SORT_CONSTRAINTS = "Sort can only take in 'all', 'status', 'priority', "
            + "'start', 'end' as parameters";

    public static final String MESSAGE_SUCCESS = "Sorted all tasks by ";

    public static final String ALL = "all";
    public static final String STATUS = "status";
    public static final String PRIORITY = "priority";
    public static final String STARTTIME = "start";
    public static final String ENDTIME = "end";

    private static String[] keywordCheckList = new String[]{"all", "status", "priority", "start", "end"};

    private String keyword;

    public SortCommand(String keyword) {
        this.keyword = keyword;
    }

    @Override
    public CommandResult execute() {
        model.sortList(keyword);
        for (String i : keywordCheckList) {
            if (keyword.contains(i)) {
                return new CommandResult(MESSAGE_SUCCESS + keyword);
            }
        }
        return new CommandResult(MESSAGE_SORT_CONSTRAINTS);
    }
}
```
###### /java/seedu/opus/model/comparators/EndTimeComparator.java
``` java
public class EndTimeComparator implements Comparator<ReadOnlyTask> {
    public int compare(ReadOnlyTask d1, ReadOnlyTask d2) {
        boolean bothHaveEnd = d1.getEndTime().isPresent() && d2.getEndTime().isPresent();
        boolean oneHasEnd = d1.getEndTime().isPresent() || d2.getEndTime().isPresent();
        if (bothHaveEnd) {
            boolean d1IsBefore = d1.getEndTime().get().dateTime.isBefore(d2.getEndTime().get().dateTime);
            boolean d1IsAfter = d1.getEndTime().get().dateTime.isAfter(d2.getEndTime().get().dateTime);
            if (d1IsBefore) {
                return -1;
            } else if (d1IsAfter) {
                return 1;
            } else {
                return 0;
            }
        } else if (oneHasEnd) {
            return -1;
        } else {
            return 1;
        }
    }
}
```
###### /java/seedu/opus/model/task/UniqueTaskList.java
``` java
    public UnmodifiableObservableList<Task> asSortedList(String keyword) {
        switch (keyword) {
        case SortCommand.ALL:
            FXCollections.sort(internalList, new TaskComparator());
            break;
        case SortCommand.STATUS:
            FXCollections.sort(internalList, new StatusComparator());
            break;
        case SortCommand.PRIORITY:
            FXCollections.sort(internalList, new PriorityComparator());
            break;
        case SortCommand.STARTTIME:
            FXCollections.sort(internalList, new StartTimeComparator());
            break;
        case SortCommand.ENDTIME:
            FXCollections.sort(internalList, new EndTimeComparator());
            break;
        default:
            break;
        }
        return new UnmodifiableObservableList<>(internalList);
    }
    //@author

    @Override
    public Iterator<Task> iterator() {
        return internalList.iterator();
    }

    @Override
    public boolean equals(Object other) {
        return other == this // short circuit if same object
                || (other instanceof UniqueTaskList // instanceof handles nulls
                && this.internalList.equals(
                ((UniqueTaskList) other).internalList));
    }

    @Override
    public int hashCode() {
        return internalList.hashCode();
    }

    /**
     * Signals that an operation would have violated the 'no duplicates' property of the list.
     */
    public static class DuplicateTaskException extends DuplicateDataException {
        protected DuplicateTaskException() {
            super("Operation would result in duplicate tasks");
        }
    }

    /**
     * Signals that an operation targeting a specified task in the list would fail because
     * there is no such matching task in the list.
     */
    public static class TaskNotFoundException extends Exception {}

}
```
